<div class="row">
  <div class="col-sm-12">
    <h1>XOS Monitoring Statistics</h1>
  </div>
</div>

<div class="row" ng-show="vm.loader">
  <div class="col-xs-12">
    <div class="loader">Loading</div>
  </div>
</div>

<section ng-hide="vm.loader" ng-class="{animate: !vm.loader}">
  <div class="row">
    <div class="col-sm-3 service-list">
        <h3>XOS Service: </h3>
        <uib-accordion close-others="true" template-url="templates/accordion.html">
          <uib-accordion-group
            ng-repeat="(service, slices) in vm.projects"
            template-url="templates/accordion-group.html"
            heading="{{service}}">
            <h4>Slices:</h4>
            <a ng-repeat="(slice, resources) in slices" 
              ng-class="{active: slice === vm.selectedSlice}"
              ng-click="vm.selectResources(resources, slice)"
              href="#" class="list-group-item" >
              {{slice}} <i class="glyphicon glyphicon-chevron-right pull-right"></i>
            </a>
          </uib-accordion-group>
        </uib-accordion>
    </div>
    <div class="col-sm-3 animate-slide-left" ng-hide="!vm.selectedResources">
      <div class="list-group">
        <div class="list-group-item">
          <h3>Resources</h3>
        </div>
        <a href="#" 
          ng-click="vm.selectMeters(meters, resource)" 
          class="list-group-item" 
          ng-repeat="(resource, meters) in vm.selectedResources" 
          ng-class="{active: resource === vm.selectedResource}">
          {{resource}} <i class="glyphicon glyphicon-chevron-right pull-right"></i>
        </a>
      </div>
    </div>
    <div class="col-sm-6 animate-slide-left" ng-hide="!vm.selectedMeters">
      <div class="list-group">
        <div class="list-group-item">
          <h3>Meters</h3>
        </div>
        <div class="list-group-item">
          <div class="row">
            <div class="col-xs-6">
              <label>Name:</label>
            </div>
            <div class="col-xs-3">
              <label>Unit:</label>
            </div>
            <div class="col-xs-3"></div>
          </div>
          <div class="row" ng-click="vm.selectMeters(meters)" ng-repeat="meter in vm.selectedMeters" style="margin-bottom: 10px;">
            <div class="col-xs-6">
              {{meter.name}}
            </div>
            <div class="col-xs-3">
              {{meter.unit}}
            </div>
            <div class="col-xs-3">
              <a ui-sref="samples({name: meter.name, tenant: meter.resource_id})" class="btn btn-primary">
                <i class="glyphicon glyphicon-search"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
